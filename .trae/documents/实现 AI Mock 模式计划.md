# 实现 AI Mock 模式计划

不需要购买 API Key 即可测试。我将修改 `AiService`，使其支持 Mock 模式。当检测到 API Key 为空或特定占位符（如 `sk-fake-key`）时，系统将直接返回模拟数据，从而验证完整的前后端交互流程。

## 1. 修改 `AiService.java`
- 引入 `apiKey` 字段保存。
- 在 `generateSummary` 和 `chatSync` 方法开头添加判断：
  - 如果 `apiKey` 包含 "fake" 或为空，则进入 Mock 分支。
  - **Mock 摘要**: 返回一段固定的测试摘要文本，模拟生成成功。
  - **Mock 对话**: 根据用户输入的最后一条消息，返回预设的回复（例如：如果用户问“你好”，回复“Mock回复：你好！我是测试版小祥。”）。
  - 添加 `Thread.sleep(1000)` 模拟网络延迟，使前端加载状态更真实。

## 2. 验证配置
- 确认 `application.yml` 中的 `ai.api-key` 默认为 `sk-fake-key`，这样开箱即可测试。

## 3. 测试验证
- **摘要功能**: 发帖后，查看数据库或页面是否显示 Mock 摘要。
- **陪聊功能**: 打开聊天窗口发送消息，确认能收到 Mock 回复。

此方案无需任何费用即可完成除“真实智能回答”以外的所有功能测试（UI、数据库、消息队列、API链路）。
